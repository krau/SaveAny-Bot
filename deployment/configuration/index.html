<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  é…ç½®è¯´æ˜
  #

SaveAnyBot çš„é…ç½®æ–‡ä»¶ä½¿ç”¨ toml æ ¼å¼, ä½ å¯ä»¥åœ¨ TOML å®˜æ–¹ç½‘ç«™ ä¸Šäº†è§£æ›´å¤šå…³äº toml çš„è¯­æ³•.
SaveAnyBot éœ€è¦è¯»å–å·¥ä½œç›®å½•ä¸‹çš„ config.toml æ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶, è‹¥ç¼ºå°‘è¯¥æ–‡ä»¶åˆ™ä¼šåˆ›å»ºé»˜è®¤æ–‡ä»¶, å¹¶å°è¯•ä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½é…ç½®.
ä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ€ç®€çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹:
[telegram]
token = "1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ"

[[users]]
# telegram user id
id = 777000
blacklist = true

[[storages]]
name = "æœ¬æœºå­˜å‚¨"
type = "local"
enable = true
base_path = "./downloads"

  è¯¦ç»†é…ç½®
  #


  å…¨å±€é…ç½®
  #


stream: æ˜¯å¦å¯ç”¨ Stream æ¨¡å¼, é»˜è®¤ä¸º false. å¯ç”¨å Bot å°†ç›´æ¥å°†æ–‡ä»¶æµå¼ä¼ è¾“åˆ°å­˜å‚¨ç«¯(è‹¥å­˜å‚¨ç«¯æ”¯æŒ), ä¸éœ€è¦ä¸‹è½½åˆ°æœ¬åœ°

  
Stream æ¨¡å¼å¯¹äºç£ç›˜ç©ºé—´æœ‰é™çš„éƒ¨ç½²ç¯å¢ƒååˆ†æœ‰ç”¨, ä½†ä¹Ÿæœ‰ä¸€äº›å¼Šç«¯:


æ— æ³•ä½¿ç”¨å¤šçº¿ç¨‹ä» Telegram ä¸‹è½½æ–‡ä»¶, é€Ÿåº¦è¾ƒæ…¢.
ç½‘ç»œä¸ç¨³å®šæ—¶, ä»»åŠ¡å¤±è´¥ç‡é«˜.
æ— æ³•åœ¨ä¸­é—´å±‚å¯¹æ–‡ä»¶è¿›è¡Œå¤„ç†, ä¾‹å¦‚è‡ªåŠ¨æ–‡ä»¶ç±»å‹è¯†åˆ«.
å¹¶éæ”¯æŒæ‰€æœ‰å­˜å‚¨ç«¯, ä¸æ”¯æŒçš„å­˜å‚¨ç«¯å¯èƒ½ä¼šé™çº§ä¸ºæ™®é€šæ¨¡å¼æˆ–æ— æ³•ä¸Šä¼ .




workers: åŒæ—¶å¤„ç†ä»»åŠ¡æ•°é‡, é»˜è®¤ä¸º 3
threads: ä¸‹è½½æ–‡ä»¶æ—¶ä½¿ç”¨çš„çº¿ç¨‹æ•°, é»˜è®¤ä¸º 4. ä»…åœ¨æœªå¯ç”¨ Stream æ¨¡å¼æ—¶ç”Ÿæ•ˆ.
retry: ä»»åŠ¡å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 3.


  Telegram é…ç½®
  #


token: ä½ çš„ Telegram Bot Token, å¯ä»¥é€šè¿‡ BotFather åˆ›å»º Bot å¹¶è·å– Token.
app_id, app_hash: Telegram API ID & Hash, åœ¨ Telegram API åˆ›å»ºåº”ç”¨è·å–, è‹¥ä¸æä¾›åˆ™ä½¿ç”¨é»˜è®¤å€¼.
flood_retry: Flood æ§åˆ¶é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 5.
rpc_retry: RPC è¯·æ±‚é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 5.
proxy: ä»£ç†é…ç½®, å¯é€‰.

enable: æ˜¯å¦å¯ç”¨ä»£ç†.
url: ä»£ç†åœ°å€, åªæ”¯æŒ socks5://


userbot: userbot é…ç½®, å¯é€‰.

enable: å¯ç”¨ userbot é›†æˆ, éœ€è¦ç™»å½•ç”¨æˆ·è´¦å·, æ­¤æ—¶è¯·åŠ¡å¿…ä½¿ç”¨è‡ªå·±çš„ api id & hash.
session: userbot ä¼šè¯æ–‡ä»¶è·¯å¾„, é»˜è®¤ä¸º data/usersession.db.




  
å¯ç”¨ userbot é›†æˆå, bot å¯ä»¥ä¸‹è½½ç§å¯†é¢‘é“å’Œç¾¤ç»„çš„æ–‡ä»¶, ä½†å…·æœ‰æ— æ³•é¿å…çš„è´¦å·è¢«å°ç¦çš„é£é™©.

å¼€å¯ userbot é›†æˆåç¬¬ä¸€æ¬¡å¯åŠ¨ bot æ—¶éœ€è¦é€šè¿‡ç»ˆç«¯äº¤äº’è¾“å…¥æ‰‹æœºå·, 2FA å’ŒéªŒè¯ç .

å¦‚æœä½ ä½¿ç”¨ docker éƒ¨ç½², è¯·ä½¿ç”¨ -it å‚æ•°ä¸ºå®¹å™¨æä¾›äº¤äº’å¼ç¯å¢ƒ, ç„¶åæ‰§è¡Œç™»å½•æ“ä½œ.



[telegram]
token = "1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ"
app_id = 1025907
app_hash = "452b0359b988148995f22ff0f4229750"
flood_retry = 5
rpc_retry = 5
[telegram.proxy]
enable = false
url = "socks5://127.0.0.1:7890"
[telegram.userbot]
enable = false
session = "data/usersession.db"

  å­˜å‚¨ç«¯åˆ—è¡¨
  #

å­˜å‚¨ç«¯åˆ—è¡¨ç”¨äºå®šä¹‰ Bot æ”¯æŒçš„å­˜å‚¨ä½ç½®, æ¯ä¸ªå­˜å‚¨ç«¯éœ€è¦æŒ‡å®šåç§°ã€ç±»å‹å’Œç›¸å…³é…ç½®, ä½¿ç”¨åŒä¸­æ‹¬å·è¯­æ³• [[storages]] å®šä¹‰.'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://sabot.unv.app/deployment/configuration/"><meta property="og:site_name" content="Save Any Bot"><meta property="og:title" content="é…ç½®è¯´æ˜"><meta property="og:description" content='é…ç½®è¯´æ˜ # SaveAnyBot çš„é…ç½®æ–‡ä»¶ä½¿ç”¨ toml æ ¼å¼, ä½ å¯ä»¥åœ¨ TOML å®˜æ–¹ç½‘ç«™ ä¸Šäº†è§£æ›´å¤šå…³äº toml çš„è¯­æ³•.
SaveAnyBot éœ€è¦è¯»å–å·¥ä½œç›®å½•ä¸‹çš„ config.toml æ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶, è‹¥ç¼ºå°‘è¯¥æ–‡ä»¶åˆ™ä¼šåˆ›å»ºé»˜è®¤æ–‡ä»¶, å¹¶å°è¯•ä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½é…ç½®.
ä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ€ç®€çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹:
[telegram] token = "1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ" [[users]] # telegram user id id = 777000 blacklist = true [[storages]] name = "æœ¬æœºå­˜å‚¨" type = "local" enable = true base_path = "./downloads" è¯¦ç»†é…ç½® # å…¨å±€é…ç½® # stream: æ˜¯å¦å¯ç”¨ Stream æ¨¡å¼, é»˜è®¤ä¸º false. å¯ç”¨å Bot å°†ç›´æ¥å°†æ–‡ä»¶æµå¼ä¼ è¾“åˆ°å­˜å‚¨ç«¯(è‹¥å­˜å‚¨ç«¯æ”¯æŒ), ä¸éœ€è¦ä¸‹è½½åˆ°æœ¬åœ° Stream æ¨¡å¼å¯¹äºç£ç›˜ç©ºé—´æœ‰é™çš„éƒ¨ç½²ç¯å¢ƒååˆ†æœ‰ç”¨, ä½†ä¹Ÿæœ‰ä¸€äº›å¼Šç«¯: æ— æ³•ä½¿ç”¨å¤šçº¿ç¨‹ä» Telegram ä¸‹è½½æ–‡ä»¶, é€Ÿåº¦è¾ƒæ…¢. ç½‘ç»œä¸ç¨³å®šæ—¶, ä»»åŠ¡å¤±è´¥ç‡é«˜. æ— æ³•åœ¨ä¸­é—´å±‚å¯¹æ–‡ä»¶è¿›è¡Œå¤„ç†, ä¾‹å¦‚è‡ªåŠ¨æ–‡ä»¶ç±»å‹è¯†åˆ«. å¹¶éæ”¯æŒæ‰€æœ‰å­˜å‚¨ç«¯, ä¸æ”¯æŒçš„å­˜å‚¨ç«¯å¯èƒ½ä¼šé™çº§ä¸ºæ™®é€šæ¨¡å¼æˆ–æ— æ³•ä¸Šä¼ . workers: åŒæ—¶å¤„ç†ä»»åŠ¡æ•°é‡, é»˜è®¤ä¸º 3 threads: ä¸‹è½½æ–‡ä»¶æ—¶ä½¿ç”¨çš„çº¿ç¨‹æ•°, é»˜è®¤ä¸º 4. ä»…åœ¨æœªå¯ç”¨ Stream æ¨¡å¼æ—¶ç”Ÿæ•ˆ. retry: ä»»åŠ¡å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 3. Telegram é…ç½® # token: ä½ çš„ Telegram Bot Token, å¯ä»¥é€šè¿‡ BotFather åˆ›å»º Bot å¹¶è·å– Token. app_id, app_hash: Telegram API ID & Hash, åœ¨ Telegram API åˆ›å»ºåº”ç”¨è·å–, è‹¥ä¸æä¾›åˆ™ä½¿ç”¨é»˜è®¤å€¼. flood_retry: Flood æ§åˆ¶é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 5. rpc_retry: RPC è¯·æ±‚é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 5. proxy: ä»£ç†é…ç½®, å¯é€‰. enable: æ˜¯å¦å¯ç”¨ä»£ç†. url: ä»£ç†åœ°å€, åªæ”¯æŒ socks5:// userbot: userbot é…ç½®, å¯é€‰. enable: å¯ç”¨ userbot é›†æˆ, éœ€è¦ç™»å½•ç”¨æˆ·è´¦å·, æ­¤æ—¶è¯·åŠ¡å¿…ä½¿ç”¨è‡ªå·±çš„ api id & hash. session: userbot ä¼šè¯æ–‡ä»¶è·¯å¾„, é»˜è®¤ä¸º data/usersession.db. å¯ç”¨ userbot é›†æˆå, bot å¯ä»¥ä¸‹è½½ç§å¯†é¢‘é“å’Œç¾¤ç»„çš„æ–‡ä»¶, ä½†å…·æœ‰æ— æ³•é¿å…çš„è´¦å·è¢«å°ç¦çš„é£é™©. å¼€å¯ userbot é›†æˆåç¬¬ä¸€æ¬¡å¯åŠ¨ bot æ—¶éœ€è¦é€šè¿‡ç»ˆç«¯äº¤äº’è¾“å…¥æ‰‹æœºå·, 2FA å’ŒéªŒè¯ç . å¦‚æœä½ ä½¿ç”¨ docker éƒ¨ç½², è¯·ä½¿ç”¨ -it å‚æ•°ä¸ºå®¹å™¨æä¾›äº¤äº’å¼ç¯å¢ƒ, ç„¶åæ‰§è¡Œç™»å½•æ“ä½œ. [telegram] token = "1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ" app_id = 1025907 app_hash = "452b0359b988148995f22ff0f4229750" flood_retry = 5 rpc_retry = 5 [telegram.proxy] enable = false url = "socks5://127.0.0.1:7890" [telegram.userbot] enable = false session = "data/usersession.db" å­˜å‚¨ç«¯åˆ—è¡¨ # å­˜å‚¨ç«¯åˆ—è¡¨ç”¨äºå®šä¹‰ Bot æ”¯æŒçš„å­˜å‚¨ä½ç½®, æ¯ä¸ªå­˜å‚¨ç«¯éœ€è¦æŒ‡å®šåç§°ã€ç±»å‹å’Œç›¸å…³é…ç½®, ä½¿ç”¨åŒä¸­æ‹¬å·è¯­æ³• [[storages]] å®šä¹‰.'><meta property="og:locale" content="zh"><meta property="og:type" content="website"><title>é…ç½®è¯´æ˜ | Save Any Bot</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://sabot.unv.app/deployment/configuration/><link rel=alternate hreflang=en href=https://sabot.unv.app/en/deployment/configuration/ title="Configuration Guide"><link rel=stylesheet href=/book.min.a22f4c7d8c2bdc5e3d6e34ba11cb59ab50ea5772594e71305bfd5a595dc78b7e.css integrity="sha256-oi9MfYwr3F49bjS6EctZq1DqV3JZTnEwW/1aWV3Hi34=" crossorigin=anonymous><link rel=alternate type=application/rss+xml href=https://sabot.unv.app/deployment/configuration/index.xml title="Save Any Bot"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo class=book-icon><span>Save Any Bot</span></a></h2><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class=flex><a role=button class="flex flex-auto"><img src=/svg/translate.svg class=book-icon alt=Languages>
ç®€ä½“ä¸­æ–‡</a></label><ul><li><a href=/en/deployment/configuration/>English</a></li></ul></li></ul><ul><li><a href=https://github.com/krau/SaveAny-Bot target=_blank rel=noopener>ğŸ”— GitHub</a></li></ul><ul><li><span>éƒ¨ç½²æŒ‡å—</span><ul><li><a href=/deployment/installation/>å®‰è£…ä¸æ›´æ–°</a></li><li><a href=/deployment/configuration/ class=active>é…ç½®è¯´æ˜</a><ul><li><a href=/deployment/configuration/storages/>å­˜å‚¨ç«¯é…ç½®</a></li></ul></li></ul></li><li><a href=/usage/>ä½¿ç”¨å¸®åŠ©</a><ul></ul></li><li><a href=/help/>å¸¸è§é—®é¢˜</a><ul></ul></li><li><a href=/contribute/>å‚ä¸å¼€å‘</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>é…ç½®è¯´æ˜</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#è¯¦ç»†é…ç½®>è¯¦ç»†é…ç½®</a><ul><li><a href=#å…¨å±€é…ç½®>å…¨å±€é…ç½®</a></li><li><a href=#telegram-é…ç½®>Telegram é…ç½®</a></li><li><a href=#å­˜å‚¨ç«¯åˆ—è¡¨>å­˜å‚¨ç«¯åˆ—è¡¨</a></li><li><a href=#ç”¨æˆ·åˆ—è¡¨>ç”¨æˆ·åˆ—è¡¨</a></li><li><a href=#äº‹ä»¶è§¦å‘>äº‹ä»¶è§¦å‘</a></li><li><a href=#è§£æå™¨>è§£æå™¨</a></li><li><a href=#æ‚é¡¹>æ‚é¡¹</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=é…ç½®è¯´æ˜>é…ç½®è¯´æ˜
<a class=anchor href=#%e9%85%8d%e7%bd%ae%e8%af%b4%e6%98%8e>#</a></h1><p>SaveAnyBot çš„é…ç½®æ–‡ä»¶ä½¿ç”¨ toml æ ¼å¼, ä½ å¯ä»¥åœ¨ <a href=https://toml.io/>TOML å®˜æ–¹ç½‘ç«™</a> ä¸Šäº†è§£æ›´å¤šå…³äº toml çš„è¯­æ³•.</p><p>SaveAnyBot éœ€è¦è¯»å–å·¥ä½œç›®å½•ä¸‹çš„ <code>config.toml</code> æ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶, è‹¥ç¼ºå°‘è¯¥æ–‡ä»¶åˆ™ä¼šåˆ›å»ºé»˜è®¤æ–‡ä»¶, å¹¶å°è¯•ä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½é…ç½®.</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ€ç®€çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>telegram</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>token</span> = <span style=color:#e6db74>&#34;1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>users</span>]]
</span></span><span style=display:flex><span><span style=color:#75715e># telegram user id</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>id</span> = <span style=color:#ae81ff>777000</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>blacklist</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>storages</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;æœ¬æœºå­˜å‚¨&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>type</span> = <span style=color:#e6db74>&#34;local&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>enable</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>base_path</span> = <span style=color:#e6db74>&#34;./downloads&#34;</span>
</span></span></code></pre></div><h2 id=è¯¦ç»†é…ç½®>è¯¦ç»†é…ç½®
<a class=anchor href=#%e8%af%a6%e7%bb%86%e9%85%8d%e7%bd%ae>#</a></h2><h3 id=å…¨å±€é…ç½®>å…¨å±€é…ç½®
<a class=anchor href=#%e5%85%a8%e5%b1%80%e9%85%8d%e7%bd%ae>#</a></h3><ul><li><code>stream</code>: æ˜¯å¦å¯ç”¨ Stream æ¨¡å¼, é»˜è®¤ä¸º <code>false</code>. å¯ç”¨å Bot å°†ç›´æ¥å°†æ–‡ä»¶æµå¼ä¼ è¾“åˆ°å­˜å‚¨ç«¯(è‹¥å­˜å‚¨ç«¯æ”¯æŒ), ä¸éœ€è¦ä¸‹è½½åˆ°æœ¬åœ°<blockquote class="book-hint warning">Stream æ¨¡å¼å¯¹äºç£ç›˜ç©ºé—´æœ‰é™çš„éƒ¨ç½²ç¯å¢ƒååˆ†æœ‰ç”¨, ä½†ä¹Ÿæœ‰ä¸€äº›å¼Šç«¯:<br><ul><li>æ— æ³•ä½¿ç”¨å¤šçº¿ç¨‹ä» Telegram ä¸‹è½½æ–‡ä»¶, é€Ÿåº¦è¾ƒæ…¢.</li><li>ç½‘ç»œä¸ç¨³å®šæ—¶, ä»»åŠ¡å¤±è´¥ç‡é«˜.</li><li>æ— æ³•åœ¨ä¸­é—´å±‚å¯¹æ–‡ä»¶è¿›è¡Œå¤„ç†, ä¾‹å¦‚è‡ªåŠ¨æ–‡ä»¶ç±»å‹è¯†åˆ«.</li><li>å¹¶éæ”¯æŒæ‰€æœ‰å­˜å‚¨ç«¯, ä¸æ”¯æŒçš„å­˜å‚¨ç«¯å¯èƒ½ä¼šé™çº§ä¸ºæ™®é€šæ¨¡å¼æˆ–æ— æ³•ä¸Šä¼ .</li></ul></blockquote></li><li><code>workers</code>: åŒæ—¶å¤„ç†ä»»åŠ¡æ•°é‡, é»˜è®¤ä¸º 3</li><li><code>threads</code>: ä¸‹è½½æ–‡ä»¶æ—¶ä½¿ç”¨çš„çº¿ç¨‹æ•°, é»˜è®¤ä¸º 4. ä»…åœ¨æœªå¯ç”¨ Stream æ¨¡å¼æ—¶ç”Ÿæ•ˆ.</li><li><code>retry</code>: ä»»åŠ¡å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 3.</li></ul><h3 id=telegram-é…ç½®>Telegram é…ç½®
<a class=anchor href=#telegram-%e9%85%8d%e7%bd%ae>#</a></h3><ul><li><code>token</code>: ä½ çš„ Telegram Bot Token, å¯ä»¥é€šè¿‡ <a href=https://t.me/botfather>BotFather</a> åˆ›å»º Bot å¹¶è·å– Token.</li><li><code>app_id</code>, <code>app_hash</code>: Telegram API ID & Hash, åœ¨ <a href=https://my.telegram.org/apps>Telegram API</a> åˆ›å»ºåº”ç”¨è·å–, è‹¥ä¸æä¾›åˆ™ä½¿ç”¨é»˜è®¤å€¼.</li><li><code>flood_retry</code>: Flood æ§åˆ¶é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 5.</li><li><code>rpc_retry</code>: RPC è¯·æ±‚é‡è¯•æ¬¡æ•°, é»˜è®¤ä¸º 5.</li><li><code>proxy</code>: ä»£ç†é…ç½®, å¯é€‰.<ul><li><code>enable</code>: æ˜¯å¦å¯ç”¨ä»£ç†.</li><li><code>url</code>: ä»£ç†åœ°å€, åªæ”¯æŒ <code>socks5://</code></li></ul></li><li><code>userbot</code>: userbot é…ç½®, å¯é€‰.<ul><li><code>enable</code>: å¯ç”¨ userbot é›†æˆ, éœ€è¦ç™»å½•ç”¨æˆ·è´¦å·, æ­¤æ—¶è¯·åŠ¡å¿…ä½¿ç”¨è‡ªå·±çš„ api id & hash.</li><li><code>session</code>: userbot ä¼šè¯æ–‡ä»¶è·¯å¾„, é»˜è®¤ä¸º <code>data/usersession.db</code>.</li></ul></li></ul><blockquote class="book-hint warning">å¯ç”¨ userbot é›†æˆå, bot å¯ä»¥ä¸‹è½½ç§å¯†é¢‘é“å’Œç¾¤ç»„çš„æ–‡ä»¶, ä½†å…·æœ‰æ— æ³•é¿å…çš„è´¦å·è¢«å°ç¦çš„é£é™©.<br>å¼€å¯ userbot é›†æˆåç¬¬ä¸€æ¬¡å¯åŠ¨ bot æ—¶éœ€è¦é€šè¿‡ç»ˆç«¯äº¤äº’è¾“å…¥æ‰‹æœºå·, 2FA å’ŒéªŒè¯ç .<br>å¦‚æœä½ ä½¿ç”¨ docker éƒ¨ç½², è¯·ä½¿ç”¨ -it å‚æ•°ä¸ºå®¹å™¨æä¾›äº¤äº’å¼ç¯å¢ƒ, ç„¶åæ‰§è¡Œç™»å½•æ“ä½œ.</blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>telegram</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>token</span> = <span style=color:#e6db74>&#34;1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app_id</span> = <span style=color:#ae81ff>1025907</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app_hash</span> = <span style=color:#e6db74>&#34;452b0359b988148995f22ff0f4229750&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>flood_retry</span> = <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>rpc_retry</span> = <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>telegram</span>.<span style=color:#a6e22e>proxy</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>enable</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#34;socks5://127.0.0.1:7890&#34;</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>telegram</span>.<span style=color:#a6e22e>userbot</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>enable</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>session</span> = <span style=color:#e6db74>&#34;data/usersession.db&#34;</span>
</span></span></code></pre></div><h3 id=å­˜å‚¨ç«¯åˆ—è¡¨>å­˜å‚¨ç«¯åˆ—è¡¨
<a class=anchor href=#%e5%ad%98%e5%82%a8%e7%ab%af%e5%88%97%e8%a1%a8>#</a></h3><p>å­˜å‚¨ç«¯åˆ—è¡¨ç”¨äºå®šä¹‰ Bot æ”¯æŒçš„å­˜å‚¨ä½ç½®, æ¯ä¸ªå­˜å‚¨ç«¯éœ€è¦æŒ‡å®šåç§°ã€ç±»å‹å’Œç›¸å…³é…ç½®, ä½¿ç”¨åŒä¸­æ‹¬å·è¯­æ³• <code>[[storages]]</code> å®šä¹‰.</p><p>æ¯ä¸€ä¸ªå­˜å‚¨ç«¯è‡³å°‘éœ€è¦ä»¥ä¸‹å­—æ®µ:</p><ul><li><code>name</code>: å­˜å‚¨ç«¯åç§°, ç”¨äºåœ¨ Bot ä¸­è¯†åˆ«, éœ€è¦å”¯ä¸€</li><li><code>enable</code>: æ˜¯å¦å¯ç”¨è¯¥å­˜å‚¨ç«¯, é»˜è®¤ä¸º <code>true</code></li><li><code>type</code>: å­˜å‚¨ç«¯ç±»å‹, ç›®å‰æ”¯æŒä»¥ä¸‹ç±»å‹:<ul><li><code>local</code>: æœ¬åœ°ç£ç›˜</li><li><code>alist</code>: Alist</li><li><code>webdav</code>: WebDAV</li><li><code>minio</code>: MinIO (å…¼å®¹ S3 API)</li><li><code>telegram</code>: ä¸Šä¼ åˆ° Telegram</li></ul></li></ul><p>ç¤ºä¾‹, è¿™æ˜¯ä¸€ä¸ªåŒ…å«æœ¬åœ°å­˜å‚¨å’Œ webdav å­˜å‚¨çš„é…ç½®:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[[<span style=color:#a6e22e>storages</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;æœ¬åœ°å­˜å‚¨&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>type</span> = <span style=color:#e6db74>&#34;local&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>enable</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ä»¥ä¸‹æ˜¯ local ç±»å‹å­˜å‚¨çš„è‡ªå®šä¹‰é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>base_path</span> = <span style=color:#e6db74>&#34;./downloads&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>storages</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;WebDAV&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>type</span> = <span style=color:#e6db74>&#34;webdav&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>enable</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ä»¥ä¸‹æ˜¯ webdav ç±»å‹å­˜å‚¨çš„è‡ªå®šä¹‰é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#34;https://example.com/webdav&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>base_path</span> = <span style=color:#e6db74>&#34;/path/to/webdav&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>username</span> = <span style=color:#e6db74>&#34;your_username&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>password</span> = <span style=color:#e6db74>&#34;your_password&#34;</span>
</span></span></code></pre></div><p>æ‰€æœ‰å­˜å‚¨ç«¯çš„è‡ªå®šä¹‰é…ç½®é¡¹å¯æŸ¥çœ‹ <a href=./storages>å­˜å‚¨ç«¯é…ç½®</a></p><h3 id=ç”¨æˆ·åˆ—è¡¨>ç”¨æˆ·åˆ—è¡¨
<a class=anchor href=#%e7%94%a8%e6%88%b7%e5%88%97%e8%a1%a8>#</a></h3><p>ç”¨æˆ·åˆ—è¡¨ç”¨äºå®šä¹‰å¯¹å­˜å‚¨ç«¯çš„è®¿é—®æ§åˆ¶, æ¯ä¸ªç”¨æˆ·éœ€è¦æŒ‡å®š Telegram ä¸Šçš„ç”¨æˆ· ID, ä½¿ç”¨åŒä¸­æ‹¬å·è¯­æ³• <code>[[users]]</code> å®šä¹‰.</p><ul><li><code>id</code>: ç”¨æˆ·çš„ Telegram User ID</li><li><code>storages</code>: è¿‡æ»¤çš„å­˜å‚¨ç«¯åˆ—è¡¨, ä½¿ç”¨å­˜å‚¨ç«¯åç§°å®šä¹‰, é»˜è®¤ä¸ºç™½åå•æ¨¡å¼ (å³åªå…è®¸è®¿é—®åˆ—è¡¨ä¸­çš„å­˜å‚¨ç«¯)</li><li><code>blacklist</code>: æ˜¯å¦å¯ç”¨é»‘åå•æ¨¡å¼, é»˜è®¤ä¸º <code>false</code>. è‹¥å¯ç”¨é»‘åå•æ¨¡å¼, åˆ™ä»…å…è®¸è®¿é—®<strong>æ²¡æœ‰</strong>åœ¨åˆ—è¡¨ä¸­çš„å­˜å‚¨ç«¯.</li></ul><p>ç¤ºä¾‹, è¿™æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªç”¨æˆ·çš„é…ç½®, ç”¨æˆ· <code>123123</code> åªèƒ½è®¿é—®æœ¬åœ°å­˜å‚¨, ç”¨æˆ· <code>456456</code> åªèƒ½è®¿é—®é™¤ WebDAV ä»¥å¤–çš„å­˜å‚¨, ç”¨æˆ· <code>789789</code> å¯ç”¨é»‘åå•æ¨¡å¼ä½†æ²¡æœ‰æŒ‡å®šå­˜å‚¨ç«¯, å› æ­¤å¯ä»¥è®¿é—®æ‰€æœ‰å­˜å‚¨:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[[<span style=color:#a6e22e>users</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>id</span> = <span style=color:#ae81ff>123123</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>storages</span> = [<span style=color:#e6db74>&#34;æœ¬åœ°å­˜å‚¨&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>users</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>id</span> = <span style=color:#ae81ff>456456</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>storages</span> = [<span style=color:#e6db74>&#34;WebDAV&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>blacklist</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>users</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>id</span> = <span style=color:#ae81ff>789789</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>storages</span> = []
</span></span><span style=display:flex><span><span style=color:#a6e22e>blacklist</span> = <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=äº‹ä»¶è§¦å‘>äº‹ä»¶è§¦å‘
<a class=anchor href=#%e4%ba%8b%e4%bb%b6%e8%a7%a6%e5%8f%91>#</a></h3><p>äº‹ä»¶è§¦å‘æä¾›äº†åœ¨ Bot å¤„ç†ä»»åŠ¡æ—¶æ ¹æ®ä»»åŠ¡çŠ¶æ€æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œçš„èƒ½åŠ›, ç›®å‰ä»…æ”¯æŒä»»æ„å‘½ä»¤æ‰§è¡Œ. ä½¿ç”¨ <code>[hook.exec]</code> é…ç½®.</p><p>ç›®å‰å…·æœ‰ä»¥ä¸‹å‡ ç§äº‹ä»¶ç±»å‹:</p><ul><li><code>task_before_start</code>: ä»»åŠ¡å³å°†å¼€å§‹å‰</li><li><code>task_success</code>: ä»»åŠ¡æˆåŠŸå®Œæˆå</li><li><code>task_fail</code>: ä»»åŠ¡å¤±è´¥å</li><li><code>task_cancel</code>: ä»»åŠ¡è¢«å–æ¶ˆå</li></ul><p>æä¾›çš„é…ç½®å€¼éœ€è¦ä¸ºå®Œæ•´çš„å‘½ä»¤è¡Œå‘½ä»¤, Bot ä¼šåœ¨äº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œè¯¥å‘½ä»¤. ç¤ºä¾‹:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>hook</span>.<span style=color:#a6e22e>exec</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>task_before_start</span> = <span style=color:#e6db74>&#34;echo &#39;ä»»åŠ¡å³å°†å¼€å§‹&#39;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>task_success</span> = <span style=color:#e6db74>&#34;bash /path/to/success_script.sh&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>task_fail</span> = <span style=color:#e6db74>&#34;curl -X POST https://example.com/api/notify -d &#39;ä»»åŠ¡å¤±è´¥&#39;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>task_cancel</span> = <span style=color:#e6db74>&#34;bash /path/to/cancel_script.sh&#34;</span>
</span></span></code></pre></div><h3 id=è§£æå™¨>è§£æå™¨
<a class=anchor href=#%e8%a7%a3%e6%9e%90%e5%99%a8>#</a></h3><p>è§£æå™¨ä¸º Bot æä¾›äº†å¤„ç†é Telegram æ–‡ä»¶çš„èƒ½åŠ›, ä¾‹å¦‚ä»å…¶ä»–ç½‘ç«™ä¸‹è½½æ–‡ä»¶. ä½¿ç”¨ <code>[parsers]</code> é…ç½®.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>parsers</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>plugin_enable</span> = <span style=color:#66d9ef>true</span> <span style=color:#75715e># æ˜¯å¦å¯ç”¨è§£æå™¨æ’ä»¶</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>plugin_dirs</span> = [<span style=color:#e6db74>&#34;./plugins&#34;</span>] <span style=color:#75715e># æ’ä»¶ç›®å½•, å¯ä»¥æ˜¯å¤šä¸ªç›®å½•</span>
</span></span></code></pre></div><p>ä¸Šè¿°ä¸¤ä¸ªé…ç½®é¡¹åªç”¨äºæ§åˆ¶ä»¥ JavaScript ç¼–å†™çš„è§£æå™¨æ’ä»¶, Bot è¿˜æœ‰å†…ç½®çš„ä½¿ç”¨ Go å®ç°çš„è§£æå™¨, ç›®å‰é»˜è®¤å¼€å¯.</p><h3 id=æ‚é¡¹>æ‚é¡¹
<a class=anchor href=#%e6%9d%82%e9%a1%b9>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>no_clean_cache</span> = <span style=color:#66d9ef>false</span> <span style=color:#75715e># æ˜¯å¦åœ¨é€€å‡ºæ—¶ä¸æ¸…ç©ºç¼“å­˜æ–‡ä»¶å¤¹</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ä¸´æ—¶ä¸‹è½½æ–‡ä»¶å¤¹é…ç½®</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>temp</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>base_path</span> = <span style=color:#e6db74>&#34;./cache&#34;</span>
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/krau/saveany-bot/commit/6e29442c05ccc753d91a2966942dfd33612c034c title='æœ€åä¿®æ”¹è€… krau | 2025/09/13' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>2025/09/13</span></a></div><div><a class="flex align-center" href=https://github.com/krau/saveany-bot/edit/main/docs/content/zh/deployment/configuration/_index.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>ç¼–è¾‘æœ¬é¡µ</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#è¯¦ç»†é…ç½®>è¯¦ç»†é…ç½®</a><ul><li><a href=#å…¨å±€é…ç½®>å…¨å±€é…ç½®</a></li><li><a href=#telegram-é…ç½®>Telegram é…ç½®</a></li><li><a href=#å­˜å‚¨ç«¯åˆ—è¡¨>å­˜å‚¨ç«¯åˆ—è¡¨</a></li><li><a href=#ç”¨æˆ·åˆ—è¡¨>ç”¨æˆ·åˆ—è¡¨</a></li><li><a href=#äº‹ä»¶è§¦å‘>äº‹ä»¶è§¦å‘</a></li><li><a href=#è§£æå™¨>è§£æå™¨</a></li><li><a href=#æ‚é¡¹>æ‚é¡¹</a></li></ul></li></ul></nav></div></aside></main></body></html>